<template>
  <section>
    <b-row class="mt-3">
      <div class="col-md-12">
        <h1>InstaEditor</h1>
        <b-form-textarea
          id="textarea"
          v-model="input_text"
          placeholder="–ó–¥–µ—Å—å –±–ª–æ–≥–µ—Ä—ã –ø–∏—à—É—Ç —Ç–µ–∫—Å—Ç –¥–ª—è –ø–æ—Å—Ç–æ–≤ –≤ Instagram üî• –ù–∞–∂–º–∏—Ç–µ 1 —Ä–∞–∑ Enter –¥–ª—è –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏ –∏ 2 —Ä–∞–∑–∞ –¥–ª—è –ø—É—Å—Ç–æ–π —Å—Ç—Ä–æ–∫–∏. –ß—Ç–æ–±—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∞—Ä–∏–∞–Ω—Ç–µ, –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É ¬´–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å¬ª üòâ"
          rows="10"
        ></b-form-textarea>
      </div>
    </b-row>
    <div class="row mt-3">
      <div class="col-md-12">
        <b-button @click="copyTextarea" variant="outline-primary">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å</b-button>
      </div>
    </div>

    <b-modal
      v-model="modalShow"
      title="–†–µ–¥–∞–∫—Ç–æ—Ä —Ç–µ–∫—Å—Ç–∞ –¥–ª—è Instagram"
      ok-only
      ok-title="–ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ–∫—Å—Ç"
    >
      <p>–ü–µ—Ä–µ–¥ –≤–∞–º–∏ —Ä–µ–¥–∞–∫—Ç–æ—Ä —Ç–µ–∫—Å—Ç–∞ –¥–ª—è –ø–æ—Å—Ç–æ–≤ –≤ Instagram. –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å —Ç–µ–∫—Å—Ç —Å –∞–±–∑–∞—Ü–∞–º–∏ –∏ –ø—É—Å—Ç—ã–º–∏ —Å—Ç—Ä–æ–∫–∞–º–∏ –∏ –≤ –≥–æ—Ç–æ–≤–æ–º –≤–∏–¥–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –≤ –≤–∞—à –ø–æ—Å—Ç.</p>
      <p><nuxt-link to="/how">–ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ?</nuxt-link></p>
    </b-modal>
  </section>
</template>

<script>
export default {
  data() {
    return {
      input_text: '',
      output_text: '',
      modalShow: true
    }
  },
  methods: {
    async copyTextarea() {
      this.output_message = this.input_text.replace(/\n/g, '‚†Ä\n')
      try {
        await this.$copyText(this.output_message)
        this.$bvToast.toast('–¢–µ–∫—Å—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω!', {
          title: '–ò–Ω—Ñ–æ',
          autoHideDelay: 5000,
          variant: 'success'
        })
      } catch (e) {
        console.error(e)
      }
    },
  }
}
</script>